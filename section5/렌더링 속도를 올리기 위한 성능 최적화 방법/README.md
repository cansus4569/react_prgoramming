## 리액트에서 왜 데이터를 불변 객체로 관리해야하는가 ?

- 이전/이후 값의 단순 비교만으로 컴포넌트의 속성값이 변경되는지 알 수있다.

## Key 속성값의 중요성...

- 리액트는 렌더링 할때 DOM 데이터들을 key 속성값을 비교하여 렌더링 되기떄문에... 비효율적인 렌더를 줄일 수 있다.

```jsx
/**
 * 일반적으로 새로운 요소를 추가하거나 삭제하면
 * 해당 요소만 실제 돔에 추가 또는 삭제를 한다.
 * 기존 요소는 건들이지 않는다.
 * 리액트는 가상돔 비교를 통해서 변경사항이 없다는것을 알고 있다.
 */
if (flag) {
  return (
    <div>
      <p>사과</p>
      <p>바나나</p>
    </div>
  );
} else {
  return (
    <div>
      <p>사과</p>
      <p>바나나</p>
      <p>파인애플</p>
    </div>
  );
}
```

```jsx
/**
 * 파인애플 요소가 중간에 있다면...?
 * 바나나 요소가 영향을 받아, 바나나 요소도 리렌더링되어진다.
 * 리액트는 중간에 요소를 추가하면 그 뒤에 있는 요소가 변경되지 않았다는 것을 알지 못한다.
 * 리액트는 효율적으로 연산하기 위해서 순서정보를 이용한다.
 */
if (flag) {
  return (
    <div>
      <p>사과</p>
      <p>바나나</p>
    </div>
  );
} else {
  return (
    <div>
      <p>사과</p>
      <p>파인애플</p> {/** 파인애플 요소를 중간에 넣는다면...? */}
      <p>바나나</p>
    </div>
  );
}
```

```jsx
/**
 * key 속성값을 이용하면, 파인애플만 실제 돔에 추가할 수 있다.
 * key 속성값을 입력하면, 리액트는 같은 키를 갖는 요소끼리만 비교를 한다.
 * 따라서, 리액트는 바나나 요소가 변경되지 않았다는 것을 알게 된다.
 *그래서 실제 돔에는 파인애플 요소만 추가 하게 되어진다.

 * <결론>
 * key 속성값은 React가 렌더링을 효율적으로 할 수 있도록 제공하는 추가 정보이다.
 */
if (flag) {
  return (
    <div>
      <p key="apple">사과</p>
      <p key="banana">바나나</p>
    </div>
  );
} else {
  return (
    <div>
      <p key="apple">사과</p>
      <p key="pineapple">파인애플</p>
      <p key="banana">바나나</p>
    </div>
  );
}
```
